(function(){var e={3789:function(e){function a(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}a.keys=function(){return[]},a.resolve=a,a.id=3789,e.exports=a},3337:function(e){function a(e){return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}))}a.keys=function(){return[]},a.resolve=a,a.id=3337,e.exports=a},7114:function(e,a,t){"use strict";var l=t(9242),n=t(3396),o=t(65),s=(t(1036),(0,n.aZ)({name:"App",__name:"App",setup(e){const a=(0,o.oR)();return(0,n.bv)((()=>{a.dispatch("fetchUserInfo")})),(e,a)=>{const t=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n.Wm)(t)])),_:1})}}}));const u=s;var i=u,c=t(2483),r=t(9740),d=(t(9060),t(7086),t(7139)),p=t(4870),m=t.p+"img/code.01f670c8.jpg",f=t.p+"img/online.d3c966f9.jpg",v=t.p+"img/teamwork.e4508b8a.jpg",w=(t(6570),t(9776)),g=(t(6885),t(9119)),_=(t(7066),t(4902)),h=(t(8839),t(7916)),y=(t(802),t(560),t(5065)),k=(t(3189),t(6089)),W=(t(34),t(1076));const j={class:"userInfoCard"};var U=(0,n.aZ)({name:"userInfoCard",__name:"userInfoCard",props:{showDialog:{type:Function,required:!0}},setup(e){const a=e,t=(0,o.oR)(),l=(0,c.tv)();async function s(){try{const e=await W.Z.post("/api/logout");if(200!==e.status)throw e;t.commit("REMOVE_USER_INFO"),l.replace("/")}catch(e){console.log("请求出错: ",e)}}function u(e){const a=t.state.userinfo?.uid;void 0!==a&&l.push(`/user/${a}?tab=${e}`)}return(e,l)=>{const o=k.gi,i=_.Dv,c=w.dq,r=y.E2;return(0,n.wg)(),(0,n.iD)("div",j,[(0,n.Wm)(c,{class:"userInfoBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{span:24},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{class:"userName"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,p.SU)(t).state.userinfo?.username||"匿名用户"),1)])),_:1}),(0,n.Wm)(o,{class:"userCoin"},{default:(0,n.w5)((()=>[(0,n.Uk)("硬币数: "+(0,d.zw)((0,p.SU)(t).state.userinfo?.coin||0),1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(c,{class:"userActionBox"},{default:(0,n.w5)((()=>[null!=(0,p.SU)(t).state.userinfo?((0,n.wg)(),(0,n.j4)(i,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{underline:!1,onClick:l[0]||(l[0]=e=>u("projects"))},{default:(0,n.w5)((()=>[(0,n.Uk)(" 我的项目 ")])),_:1}),(0,n.Wm)(r,{underline:!1,onClick:l[1]||(l[1]=e=>u("tempProjects"))},{default:(0,n.w5)((()=>[(0,n.Uk)(" 我的临时项目 ")])),_:1}),(0,n.Wm)(r,{underline:!1,onClick:l[2]||(l[2]=e=>u("stars"))},{default:(0,n.w5)((()=>[(0,n.Uk)(" 我的收藏 ")])),_:1}),(0,n.Wm)(r,{underline:!1,onClick:s},{default:(0,n.w5)((()=>[(0,n.Uk)(" 退出登录 ")])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(i,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{underline:!1,onClick:a.showDialog},{default:(0,n.w5)((()=>[(0,n.Uk)(" 登录/注册 ")])),_:1},8,["onClick"])])),_:1}))])),_:1})])}}}),b=t(89);const C=(0,b.Z)(U,[["__scopeId","data-v-082c3bae"]]);var x=C,D=t(4143),Z=(t(7437),t(7150)),z=(t(6809),t(3744)),P=(t(172),t(5595));const q={key:0,class:"loginOrSignupDialog"},$={class:"loginOrSignupDialogBody"},S={class:"actionNameBox"};var I=(0,n.aZ)({name:"loginOrSignupDialog",__name:"loginOrSignupDialog",props:{show:{type:Boolean,default:!1},closeDialog:{type:Function,required:!0}},setup(e){const a=e,t=(0,o.oR)(),s=(0,c.tv)(),u=(0,p.iH)("login"),i=(0,p.iH)("login"),r=(0,p.iH)(""),m=(0,p.iH)(""),f=(0,p.iH)(""),v=(0,p.iH)(""),g=(0,p.iH)(""),_=(0,p.iH)(null),h=(0,n.Fl)((function(){return"login"===u.value||"signup"===u.value?"发送验证码":"完成"}));function j(){r.value="",m.value="",f.value="",v.value="",u.value="login",i.value="login"}function U(){W.Z.post("/api/sendVerifyCode",{email:r.value}).then((e=>{if(200!==e.status||!e.data.code||200!==e.data.code)throw e;g.value=e.data.verifyCode})).catch((e=>{console.log("请求失败:",e),_.value="请求失败了, 请稍后再试"}))}function b(){return"signup"===i.value?((0,P.z8)("正在注册"),void W.Z.post("/api/signup",{username:f.value,email:r.value,password:m.value,verifyCode:v.value}).then((e=>{if(200!==e.status||!e.data.code)throw e;const{data:a}=e;"wrong verifyCode"!==a.reason?"duplicate name"!==a.reason?"user already registered"!==a.reason?((0,P.z8)("注册成功  1s 后将自动跳转到登录页"),setTimeout((()=>{_.value=null,u.value="login"}),1e3)):_.value="你已经注册过了 请去登录":_.value="名字重复了 请换一个用户名":_.value="验证码错误"})).catch((e=>{(0,P.z8)("请求错误 请稍后再试"),console.log("请求失败: ",e)}))):"login"===i.value?((0,P.z8)("正在登录"),void W.Z.post("/api/login",{email:r.value,password:m.value,verifyCode:v.value}).then((e=>{if(200!==e.status||!e.data.code)throw e;const{data:a}=e;"user not found"!==a.reason?"wrong password"!==a.reason?"wrong verifyCode"!==a.reason?((0,P.z8)("登录成功  1s 后此对话框将自动取消显示"),setTimeout((()=>{_.value=null,x(),t.dispatch("fetchUserInfo"),s.replace("/")}),1e3)):_.value="验证码错误 请重试":_.value="密码错误 请重试":_.value="没有找到此用户 请注册"})).catch((e=>{(0,P.z8)("请求错误 请稍后再试"),console.log("请求失败: ",e)}))):void 0}function C(){const e=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(""!==r.value)if(""!==m.value)if(!1!==e.test(r.value))if("login"===u.value)_.value=null,i.value="login",u.value="verifyCode",U(),v.value="";else if("signup"===u.value){if(""===f.value)return void(_.value="用户名不能为空");_.value=null,i.value="signup",u.value="verifyCode",U(),v.value=""}else b();else _.value="邮箱不符合格式";else _.value="密码不能为空";else _.value="邮箱不能为空"}function x(){j(),_.value=null,a.closeDialog()}return(a,t)=>{const o=k.gi,s=w.dq,c=z.EZ,p=y.E2,W=Z.mi,j=D.Kf;return(0,n.wg)(),(0,n.j4)(l.uT,{name:"dialogTransition"},{default:(0,n.w5)((()=>[e.show?((0,n.wg)(),(0,n.iD)("div",q,[(0,n.Wm)(j,{class:"dialog","body-style":{width:"100%",height:"100%",padding:"0px"},shadow:"never"},{default:(0,n.w5)((()=>[(0,n._)("div",$,[(0,n.Wm)(s,{class:"titleBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("你好! 请")])),_:1}),(0,n._)("div",S,[(0,n.Wm)(l.W3,{name:"actionNameTransition"},{default:(0,n.w5)((()=>["login"===u.value?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"actionName"},{default:(0,n.w5)((()=>[(0,n.Uk)("登录")])),_:1})):(0,n.kq)("",!0),"signup"===u.value?((0,n.wg)(),(0,n.j4)(o,{key:1,class:"actionName"},{default:(0,n.w5)((()=>[(0,n.Uk)("注册")])),_:1})):(0,n.kq)("",!0),"verifyCode"===u.value?((0,n.wg)(),(0,n.j4)(o,{key:2,class:"actionName"},{default:(0,n.w5)((()=>[(0,n.Uk)("输入验证码")])),_:1})):(0,n.kq)("",!0)])),_:1})])])),_:1}),(0,n.Wm)(l.W3,null,{default:(0,n.w5)((()=>["login"===u.value?((0,n.wg)(),(0,n.j4)(s,{key:0,class:"formBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),placeholder:"请输入你的邮箱"},null,8,["modelValue"]),(0,n.Wm)(c,{type:"password",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),placeholder:"请输入你的密码"},null,8,["modelValue"]),(0,n.Wm)(p,{class:"signup",underline:!1,onClick:t[2]||(t[2]=e=>{u.value="signup",i.value="signup",_.value=null})},{default:(0,n.w5)((()=>[(0,n.Uk)(" 我想注册一个账号 ")])),_:1}),null!==_.value?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"actionInfo"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(_.value),1)])),_:1})):(0,n.kq)("",!0)])),_:1})):(0,n.kq)("",!0),"signup"===u.value?((0,n.wg)(),(0,n.j4)(s,{key:1,class:"formBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=e=>f.value=e),placeholder:"为你的账号起一个名字"},null,8,["modelValue"]),(0,n.Wm)(c,{modelValue:r.value,"onUpdate:modelValue":t[4]||(t[4]=e=>r.value=e),placeholder:"请输入你的邮箱"},null,8,["modelValue"]),(0,n.Wm)(c,{type:"password",modelValue:m.value,"onUpdate:modelValue":t[5]||(t[5]=e=>m.value=e),placeholder:"请输入你的密码"},null,8,["modelValue"]),(0,n.Wm)(p,{class:"signup",underline:!1,onClick:t[6]||(t[6]=e=>{u.value="login",i.value="login",_.value=null})},{default:(0,n.w5)((()=>[(0,n.Uk)(" 我想登录我的账号 ")])),_:1}),null!==_.value?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"actionInfo"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(_.value),1)])),_:1})):(0,n.kq)("",!0)])),_:1})):(0,n.kq)("",!0),"verifyCode"===u.value?((0,n.wg)(),(0,n.j4)(s,{key:2,class:"formBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" 我们已将验证码发送到你的邮箱，你可能需要等一会才会收到它。 (这里直接把验证码显示在这里了，因为我用的是个人邮箱，频繁地发送相似内容的邮件会被邮件服务商认为我在发垃圾邮件 然后直接一个限流 我就发不出去邮件了)。 ")])),_:1}),(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("验证码是: "+(0,d.zw)(g.value),1)])),_:1}),null!==_.value?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"actionInfo"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(_.value),1)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(c,{modelValue:v.value,"onUpdate:modelValue":t[7]||(t[7]=e=>v.value=e),placeholder:"请输入您接收到的验证码"},null,8,["modelValue"])])),_:1})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(s,{class:"actionBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{onClick:x},{default:(0,n.w5)((()=>[(0,n.Uk)(" 取消 ")])),_:1}),(0,n.Wm)(W,{type:"primary",onClick:C},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(h.value),1)])),_:1})])),_:1})])])),_:1})])):(0,n.kq)("",!0)])),_:1})}}});const H=(0,b.Z)(I,[["__scopeId","data-v-bd9ffca2"]]);var V=H,B=(0,n.aZ)({name:"pageHeaderComponent",__name:"pageHeader",setup(e){const a=(0,o.oR)(),s=(0,c.tv)(),u=(0,p.iH)(""),i=(0,p.iH)(!1);function d(){s.push({path:"/search",query:{q:u.value}})}function m(){const e=a.state.userinfo?.uid;void 0!==e&&s.push({path:`/user/${e}`})}function f(){i.value=!0}function v(){i.value=!1}function y(){s.push("/")}return(e,o)=>{const s=h.F8,c=_.Dv,k=g.vs,W=w.dq,j=r.nZ;return(0,n.wg)(),(0,n.j4)(j,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"logoBox",span:4,offset:1,onClick:y},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{src:t(5129)},null,8,["src"])])),_:1}),(0,n.Wm)(c,{class:"searchBox",span:10,offset:1},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{class:"searchInput","onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),placeholder:"搜索你想要的内容...",onKeydown:(0,l.D2)(d,["enter"])},null,544),[[l.nr,u.value]])])),_:1}),(0,n.Wm)(c,{class:"userInfoBox",span:8},{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"avatarBox",span:4},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(x,{showDialog:f}),(0,n.Wm)(k,{class:"avatar",size:45,src:`/assets/avatars/${(0,p.SU)(a).state.userinfo?(0,p.SU)(a).state.userinfo.avatarurl:"default.jpg"}`,onClick:m},null,8,["src"])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(V,{show:i.value,closeDialog:v},null,8,["show"])])),_:1})}}});const F=(0,b.Z)(B,[["__scopeId","data-v-36f7f824"]]);var T=F,O=(t(9200),(0,n.aZ)({name:"PageFooter",__name:"pageFooter",setup(e){const a=(0,c.tv)();function l(){a.push({path:"/about"})}function o(){a.push("/")}return(e,a)=>{const s=h.F8,u=k.gi,i=_.Dv,c=y.E2,d=w.dq,p=r.F_;return(0,n.wg)(),(0,n.j4)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{span:8},{default:(0,n.w5)((()=>[(0,n._)("div",{onClick:o},[(0,n.Wm)(s,{src:t(5129)},null,8,["src"]),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)("一个让前端开发者交流分享代码的地方")])),_:1})])])),_:1}),(0,n.Wm)(i,{span:16},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)("其他链接")])),_:1}),(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(c,{underline:!1,onClick:l},{default:(0,n.w5)((()=>[(0,n.Uk)(" 关于本站 ")])),_:1})])])])])),_:1})])),_:1})])),_:1})}}}));const R=(0,b.Z)(O,[["__scopeId","data-v-0091a664"]]);var E=R;const N=e=>((0,n.dD)("data-v-761ee064"),e=e(),(0,n.Cn)(),e),A={key:0,class:"welcomeDialog"},L={class:"loginOrSignupDialogBody"},M={class:"intro"},K=N((()=>(0,n._)("br",null,null,-1))),G={class:"action"};var Y=(0,n.aZ)({name:"welcomeDialog",__name:"welcomeDialog",props:{show:{type:Boolean,default:!1},closeDialog:{type:Function,required:!0}},setup(e){const a=e,t=(0,c.tv)();function o(){t.push("/about")}return(e,t)=>{const s=k.gi,u=y.E2,i=Z.mi,c=D.Kf;return(0,n.wg)(),(0,n.j4)(l.uT,{name:"dialogTransition"},{default:(0,n.w5)((()=>[a.show?((0,n.wg)(),(0,n.iD)("div",A,[(0,n.Wm)(c,{class:"dialog","body-style":{width:"100%",height:"100%",padding:"0px"},shadow:"never"},{default:(0,n.w5)((()=>[(0,n._)("div",L,[(0,n._)("div",M,[(0,n.Wm)(s,{class:"title"},{default:(0,n.w5)((()=>[(0,n.Uk)("感谢你能访问本网站，请在电脑端访问本网站！")])),_:1}),(0,n.Wm)(s,{class:"desc"},{default:(0,n.w5)((()=>[(0,n.Uk)("如果你比较累，可以直接点击: "),(0,n.Wm)(u,{onClick:o},{default:(0,n.w5)((()=>[(0,n.Uk)("这个链接")])),_:1}),(0,n.Uk)(),K,(0,n.Uk)(" 里面有网站的概要介绍和视频形式的整个网站的效果演示。")])),_:1})]),(0,n._)("div",G,[(0,n.Wm)(i,{type:"primary",onClick:a.closeDialog},{default:(0,n.w5)((()=>[(0,n.Uk)("好的")])),_:1},8,["onClick"])])])])),_:1})])):(0,n.kq)("",!0)])),_:1})}}});const J=(0,b.Z)(Y,[["__scopeId","data-v-761ee064"]]);var Q=J;const X=e=>((0,n.dD)("data-v-61a46092"),e=e(),(0,n.Cn)(),e),ee=X((()=>(0,n._)("div",{class:"imageBox"},[(0,n._)("img",{src:m}),(0,n._)("div",{class:"mask"})],-1))),ae=[ee],te=X((()=>(0,n._)("section",{class:"intro introTwo"},[(0,n._)("div",{class:"imageBox"},[(0,n._)("img",{src:f}),(0,n._)("div",{class:"mask"})])],-1))),le=X((()=>(0,n._)("section",{class:"intro introThree"},[(0,n._)("div",{class:"imageBox"},[(0,n._)("img",{src:v}),(0,n._)("div",{class:"mask"})])],-1))),ne=X((()=>(0,n._)("div",{class:"sloganBox"},[(0,n._)("h2",{class:"title"},"代码盒子·CodeBox"),(0,n._)("p",{class:"desc"}," 代码盒子是一个供前端开发者们在线分享自己代码的一个平台。 ")],-1)));var oe=(0,n.aZ)({name:"IndexPage",__name:"indexPage",setup(e){const a=(0,o.oR)(),t=(0,p.iH)(null),l=(0,p.iH)(null),s=(0,p.iH)(0),u=(0,n.Fl)((()=>({"--imageBoxTop":`-${(40+s.value/20*60).toFixed(2)}px`})));function i(e){const a=getComputedStyle(l.value).height,n=getComputedStyle(t.value.$el).height,o=+a.substring(0,a.length-2),u=+n.substring(0,n.length-2);function i(){const a=e.target.scrollTop/(u-o)*100;return a<0?0:a>100?100:a}return()=>{const e=i(),a=c(e);document.querySelector(".sloganBox > .title").innerText=a.title,document.querySelector(".sloganBox > .desc").innerText=a.desc,s.value=e}}function c(e){const a={0:{title:"代码盒子·CodeBox",desc:"代码盒子是一个供前端开发者们在线分享自己代码的一个平台。"},50:{title:"在线运行，即刻得到效果",desc:"代码盒子支持在线运行 Vue 代码。开发者们无需将代码拷贝到本地，在线即可预览代码的效果。"},100:{title:"共同学习，共同进步",desc:"开发者们可以将自己做好的功能的代码分享到代码盒子上，想做其他功能时可以直接在代码盒子上搜索并复用别人写好的功能代码。让前端开发者们在学习和分享的过程中增进自己的知识，提高自己的能力！"}};function t(e,t,l,n,o,s=!1){const u=a[e].title,i=a[t].title;let c=0;c=u.length>=i.length?i.length:u.length+Math.ceil((i.length-u.length)/2);let r=0;const d=(t-e)/c;r=Math.ceil((o-e)/d);let p=0;p=s?u.length>=i.length?2:1*r<=n.length?1:2:Math.ceil(n.length/c);const m=l.substring(r*p-1),f=n.substring(0,r*p),v=`${f}${m}`;return v}if(0===e)return a[0];if(e>0&&e<=45){const l={title:t(0,50,a[0].title,a[50].title,e,!0),desc:t(0,50,a[0].desc,a[50].desc,e)};return l}if(e>45&&e<=95){const l={title:t(50,100,a[50].title,a[100].title,e,!0),desc:t(50,100,a[50].desc,a[100].desc,e)};return l}return a[100]}return(e,o)=>{const s=r.b2,c=r.G4;return(0,n.wg)(),(0,n.iD)("div",{class:"indexPage",onScroll:o[0]||(o[0]=e=>i(e)())},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T),(0,n.Wm)(s,{ref_key:"mainRef",ref:t,style:(0,d.j5)(u.value)},{default:(0,n.w5)((()=>[(0,n._)("section",{class:"intro introOne",ref_key:"sectionRef",ref:l},ae,512),te,le,ne])),_:1},8,["style"]),(0,n.Wm)(E)])),_:1}),(0,n.Wm)(Q,{show:(0,p.SU)(a).state.showWelcomeDialog,closeDialog:()=>(0,p.SU)(a).commit("HIDE_WELCOME_DIALOG")},null,8,["show","closeDialog"])],32)}}});const se=(0,b.Z)(oe,[["__scopeId","data-v-61a46092"]]);var ue=se,ie=t(6270),ce=(t(2280),(0,n.aZ)({name:"itemCard",__name:"itemCard",props:{propsClass:{type:Array,default:()=>[]},pid:{type:Number,required:!0},projectname:{type:String,required:!0},description:{type:String,required:!0},effectimg:{type:String,required:!0},temp:{type:Boolean,default:!1}},setup(e){const a=e,t=(0,c.tv)(),l=(0,p.iH)(null),o=(0,p.iH)([...a.propsClass]);function s(){null==l.value&&(l.value=setTimeout((()=>{o.value.push("preview")}),500))}function u(){null!=l.value&&(clearTimeout(l.value),l.value=null,o.value=[])}function i(){t.push({path:a.temp?`/projects/temp/${a.pid}`:`/projects/${a.pid}`})}return(e,t)=>{const l=h.F8,c=k.gi,r=D.Kf;return(0,n.wg)(),(0,n.j4)(r,{class:(0,d.C_)(["itemCard",o.value]),"body-style":{width:"100%",height:"100%",padding:"0px"},shadow:"never",onMouseenter:s,onMouseleave:u,onClick:i},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{src:`/assets/effects/${a.effectimg}`,fit:"cover"},null,8,["src"]),(0,n._)("div",null,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(a.projectname),1)])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(a.description),1)])),_:1})])])),_:1},8,["class"])}}}));const re=(0,b.Z)(ce,[["__scopeId","data-v-3fee80aa"]]);var de=re;const pe={class:"searchPage"},me={key:0,class:"searching"},fe={key:1},ve={key:2};var we=(0,n.aZ)({name:"searchPage",__name:"searchPage",setup(e){const a=(0,c.yj)(),t=(0,p.iH)(null),l=(0,p.iH)(!0),o=(0,p.iH)(0),s=(0,p.iH)(6),u=(0,p.iH)(1);async function i(){l.value=!0;try{const e=await W.Z.get("/api/projects/",{params:{q:a.query.q,page:u.value}});if(200!==e.status||!e.data)throw e;o.value=e.data.total,s.value=e.data.perpage,u.value=e.data.page,t.value=e.data.data,l.value=!1}catch(e){console.log("搜索时出错: ",e)}}async function m(){u.value<Math.ceil(o.value/s.value)&&(u.value+=1,await i())}async function f(){u.value>1&&(u.value-=1,await i())}return(0,n.bv)((async()=>{await i()})),(e,u)=>{const i=k.gi,c=_.Dv,v=w.dq,g=ie.R,h=r.b2,y=r.G4;return(0,n.wg)(),(0,n.iD)("div",pe,[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{class:"searchTitle"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:18,offset:3},{default:(0,n.w5)((()=>[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Uk)('搜索 "'+(0,d.zw)((0,p.SU)(a).query.q)+'" 的结果',1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(v,{class:"searchResults"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:18,offset:3},{default:(0,n.w5)((()=>[l.value?((0,n.wg)(),(0,n.iD)("div",me,[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Uk)("正在搜索...")])),_:1})])):(0,n.kq)("",!0),l.value||null===t.value||0!==t.value.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",fe,[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Uk)("没有搜索到内容")])),_:1})])),l.value||null===t.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ve,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"itemContainer",key:e.pid},[(0,n.Wm)(de,{pid:+e.pid,projectname:e.projectname,description:e.description,effectimg:e.effectimg},null,8,["pid","projectname","description","effectimg"])])))),128))]))])),_:1})])),_:1}),l.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(v,{key:0,class:"paginatorRow"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:18,offset:3},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{background:"",layout:"prev, pager, next","page-size":s.value,total:o.value,"prev-click":f,"next-click":m},null,8,["page-size","total"])])),_:1})])),_:1}))])),_:1}),(0,n.Wm)(E)])),_:1})])}}});const ge=(0,b.Z)(we,[["__scopeId","data-v-07d46152"]]);var _e=ge,he=t(8915),ye=t(4840),ke=t(1373),We=new ke.Z,je=(0,n.aZ)({__name:"vueRepl",setup(e){class a extends he.rl{addFile(e){if("string"===typeof e){const a=e.replace(/^src\//,"");(0,P.z8)("正在同步信息"),r(a)}super.addFile(e)}deleteFile(e){const a=e.replace(/^src\//,"");confirm(`你确定要删除 ${a} 吗?`)&&(this.state.activeFile.filename===e&&(this.state.activeFile=this.state.files[this.state.mainFile]),delete this.state.files[e],(0,P.z8)("正在同步信息"),d(a))}}const t=new a({defaultVueRuntimeURL:"/assets/serverStatics/scripts/runtime-dom.esm-browser-3.3.11.js",defaultVueRuntimeProdURL:"/assets/serverStatics/scripts/runtime-dom.esm-browser.prod-3.3.11.js",defaultVueServerRendererURL:"/assets/serverStatics/scripts/server-renderer.esm-browser-3.3.11.js"}),l=(0,c.yj)(),o=(0,p.iH)({}),s=(0,p.iH)(null);async function u(){try{const e=await W.Z.get(`/api/projects/${l.params.pid}/code/`);if(200!==e.status||!e.data)throw e;const a=e.data,t={};for(const n in a){const e=await W.Z.get(`/api/projects/${l.params.pid}/code/${n}`);if(200!==e.status||!e.data)throw e;t[n]={...a[n],cid:n,code:e.data.content}}o.value=t}catch(e){(0,P.z8)("获取代码信息失败"),console.log("获取项目代码信息失败",e)}}function i(){for(const e in t.state.files)"src/App.vue"!==e&&delete t.state.files[e];for(const e in o.value){const a=o.value[e],l=`${a.name}.${a.type}`;if("App.vue"===l){t.state.files["src/App.vue"].code=a.code;continue}const n=new he.$B(`src/${a.name}.${a.type}`,a.code);t.addFile(n)}}function r(e){let[a,t]=e.split(".");t=t.toLowerCase(),"vue"!==t&&"js"!==t||(W.Z.post(`/api/projects/${l.params.pid}/code/`,{name:a,type:t}).then((e=>{if(200!==e.status||!e.data||200!==e.data.code)throw e})).catch((e=>{(0,P.z8)("在服务端新建文件失败"),console.log("在服务器端新建文件失败了: ",e)})),null!==s.value&&clearTimeout(s.value),s.value=setTimeout((()=>{u().then((()=>{(0,P.z8)("同步完成")})).catch((e=>{(0,P.z8)("代码刷新失败"),console.log("刷新代码失败了: ",e)}))}),1e3))}function d(e){const a=e.split(".")[0];let t="";for(const l in o.value)if(o.value[l].name===a){t=l;break}if(""===t)return console.log("删除代码时未找到指定名字的组件的 id: ",e),!0;W.Z.delete(`/api/projects/${l.params.pid}/code/${t}`).then((e=>{if(200!==e.status||!e.data||200!==e.data.code)throw e})).catch((e=>{(0,P.z8)("在服务端删除代码时失败了"),console.log("在服务器端删除文件失败了: ",e)})),null!==s.value&&clearTimeout(s.value),s.value=setTimeout((()=>{u().then((()=>{(0,P.z8)("同步完成")})).catch((e=>{(0,P.z8)("代码刷新失败"),console.log("刷新代码失败了: ",e)}))}),1e3)}async function m(){(0,P.z8)("正在保存代码");for(const e in o.value){const{name:a,type:n}=o.value[e],s=t.state.files[`src/${a}.${n}`].code,u=await W.Z.patch(`/api/projects/${l.params.pid}/code/${e}`,{content:s});200===u.status&&u.data&&200===u.data.code||((0,P.z8)("保存代码时出错"),console.log("保存代码时出错了: ",u))}(0,P.z8)("代码保存完成")}return(0,n.bv)((async()=>{(0,P.z8)("正在获取最新代码 请等待..."),await u(),i(),setTimeout((()=>{t.setActive("src/App.vue"),(0,P.z8)("代码获取完成 现在可以继续了")}),1e3);try{We.off("saveChanges")}catch{}We.on("saveChanges",m)})),(e,a)=>{const l=w.dq;return(0,n.wg)(),(0,n.j4)(l,{class:"replBox"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,p.SU)(he.wE),{editor:(0,p.SU)(ye.Z),showImportMap:!1,showTsConfig:!1,store:(0,p.SU)(t)},null,8,["editor","store"])])),_:1})}}});const Ue=(0,b.Z)(je,[["__scopeId","data-v-ffe44ff2"]]);var be=Ue;const Ce={class:"deleteCommentDialog"};var xe=(0,n.aZ)({name:"deleteCommentDialog",__name:"deleteCommentDialog",props:{x:{type:Number,defualt:0},y:{type:Number,defualt:0},next:{type:Function,required:!0},close:{type:Function,required:!0}},setup(e){const a=e,t=(0,n.Fl)((function(){return{"--left":`${a.x}px`,"--top":`${a.y}px`}}));return(e,l)=>{const o=w.dq,s=Z.mi;return(0,n.wg)(),(0,n.iD)("div",{class:"deleteCommentDialogBox",style:(0,d.j5)(t.value)},[(0,n._)("div",Ce,[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" 真的要删除这条评论吗? ")])),_:1}),(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"normal",onClick:a.close},{default:(0,n.w5)((()=>[(0,n.Uk)("算了")])),_:1},8,["onClick"]),(0,n.Wm)(s,{type:"primary",onClick:a.next},{default:(0,n.w5)((()=>[(0,n.Uk)("删!")])),_:1},8,["onClick"])])),_:1})])],4)}}});const De=(0,b.Z)(xe,[["__scopeId","data-v-06278110"]]);var Ze=De;const ze=e=>((0,n.dD)("data-v-00bec8d1"),e=e(),(0,n.Cn)(),e),Pe={class:"commentItem"},qe={key:0,class:"iconDeleteBox",id:"iconDeleteBox"},$e=ze((()=>(0,n._)("i",{class:"iconfont icon-shanchu1",id:"iconShanchu"},null,-1)));var Se=(0,n.aZ)({name:"commentItem",__name:"commentItem",props:{cid:{type:Number,required:!0},uid:{type:Number,required:!0},comment:{type:String,required:!0},date:{type:String,required:!0},like:{type:Number,required:!0},youlike:{type:Boolean,required:!0},getComment:{type:Function,defualt:async()=>{}}},setup(e){const a=e,t=(0,o.oR)(),s=(0,c.yj)(),u=(0,c.tv)(),i=(0,p.iH)({show:!1,x:0,y:0,next:async()=>{(0,P.z8)("正在删除评论");try{const e=await W.Z.delete(`/api/projects/${s.params.pid}/comments`,{data:{cid:a.cid}});if(200!==e.status||!e.data||200!==e.data.code)throw e;i.value.show=!1,(0,P.z8)("评论删除成功"),await a.getComment()}catch(e){(0,P.z8)("评论删除失败"),console.log("评论删除失败: ",e)}},close:()=>{i.value.show=!1}}),r=(0,p.iH)(null),m=(0,n.Fl)((()=>t.state.userinfo?.uid===r.value?.uid)),f=(0,n.Fl)((()=>({"icon-zan":!a.youlike,"icon-zan1":a.youlike})));function v(e){e.target.classList.contains("icon-shanchu1")&&(i.value.show=!0,i.value.x=e.clientX,i.value.y=e.clientY)}async function h(){try{const e=await W.Z.patch(`/api/projects/${s.params.pid}/comments`,{cid:a.cid,like:!0});if(200!==e.status||!e.data||200!==e.data.code)throw e}catch(e){console.log("赞失败了: ",e)}}async function y(){try{const e=await W.Z.patch(`/api/projects/${s.params.pid}/comments`,{cid:a.cid,like:!1});if(200!==e.status||!e.data||200!==e.data.code)throw e}catch(e){console.log("赞失败了: ",e)}}async function j(){a.youlike?await y():await h(),await a.getComment()}function U(){u.push(`/user/${r.value?.uid}`)}return(0,n.bv)((async()=>{try{const e=await W.Z.get("/api/user/",{params:{uid:a.uid}});if(200!==e.status||!e.data)throw e;r.value=e.data}catch(e){console.log("获取用户数据时出错: ",e)}})),(e,t)=>{const o=g.vs,s=_.Dv,u=k.gi,c=w.dq;return(0,n.wg)(),(0,n.iD)("li",Pe,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"avatarBox",span:2},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{size:50,src:`/assets/avatars/${r.value?r.value.avatarurl:"default.jpg"}`,onClick:U},null,8,["src"])])),_:1}),(0,n.Wm)(s,{class:"commentBox",span:22},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"username"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(r.value?r.value.username:""),1)])),_:1}),(0,n.Wm)(u,{class:"comment"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(a.comment),1)])),_:1}),(0,n._)("div",{class:"actionBox",onClick:v},[(0,n._)("span",null,[(0,n._)("span",null,(0,d.zw)(a.like),1),(0,n._)("i",{class:(0,d.C_)(["iconfont",f.value]),onClick:j},null,2)]),m.value?((0,n.wg)(),(0,n.iD)("span",qe,[$e,(0,n.Wm)(l.uT,null,{default:(0,n.w5)((()=>[i.value.show?((0,n.wg)(),(0,n.j4)(Ze,{key:0,x:i.value.x,y:i.value.y,next:i.value.next,close:i.value.close},null,8,["x","y","next","close"])):(0,n.kq)("",!0)])),_:1})])):(0,n.kq)("",!0)])])),_:1})])),_:1})])}}});const Ie=(0,b.Z)(Se,[["__scopeId","data-v-00bec8d1"]]);var He=Ie;async function Ve(e,a){const t=await W.Z.get(`/api/projects/${a}/`);return(200!==t.status||!t.data||t.data.code&&200!==t.data.code)&&(console.log("请求项目数据时出错: ",t),e.go(-1)),t.data}const Be=e=>((0,n.dD)("data-v-4bbed92a"),e=e(),(0,n.Cn)(),e),Fe={class:"projectPage"},Te={class:"title"},Oe={class:"info"},Re=Be((()=>(0,n._)("i",{class:"iconfont icon-xiangmu"},null,-1))),Ee=Be((()=>(0,n._)("i",{class:"iconfont icon-modify"},null,-1))),Ne=Be((()=>(0,n._)("i",{class:"iconfont icon-baocun"},null,-1))),Ae={key:0};var Le=(0,n.aZ)({name:"projectPage",__name:"projectPage",setup(e){const a=(0,c.yj)(),t=(0,c.tv)(),s=(0,o.oR)(),u=(0,p.iH)(""),i=(0,p.iH)(!1),m=(0,p.iH)(null),f=(0,p.iH)(null),v=(0,p.iH)(!1),_=(0,p.iH)([]),h=(0,p.iH)(0),y=(0,p.iH)(0),j=(0,p.iH)(1);(async function(){await Ve(t,a.params.pid)})();const U=(0,n.Fl)((()=>({"icon-gerenzhongxinqietu":v.value,"icon-shoucang":!v.value})));function b(){t.push({path:`/projects/${a.params.pid}/settings`})}async function C(){try{const e=await W.Z.post("/api/user/stars",{pid:a.params.pid});if(200!==e.status||!e.data||200!==e.data.code)throw e;v.value=!0}catch(e){console.log("收藏请求失败了: ",e)}}async function x(){try{const e=await W.Z.delete("/api/user/stars",{data:{pid:a.params.pid}});if(200!==e.status||!e.data||200!==e.data.code)throw e;v.value=!1}catch(e){console.log("收藏请求失败了: ",e)}}async function D(){v.value?((0,P.z8)("正在取消收藏"),await x()):((0,P.z8)("正在收藏"),await C())}async function Z(){try{const e=await W.Z.get(`/api/projects/${a.params.pid}/comments`,{params:{page:j.value}});if(200!==e.status||!e.data)throw e;_.value=e.data.data,h.value=e.data.total,y.value=e.data.perpage}catch(e){console.log("获取评论数据失败了: ",e)}}async function q(){if((0,P.z8)("正在发送评论"),""!==u.value)try{const e=await W.Z.post(`/api/projects/${a.params.pid}/comments`,{comment:u.value});if(200!==e.status||!e.data||200!==e.data.code)throw e;u.value="",(0,P.z8)("评论发送成功"),await Z()}catch(e){(0,P.z8)("评论发送失败 请稍后再试"),console.log("评论新建失败: ",e)}}function $(){t.push(`/user/${f.value?.uid}`)}async function S(){(0,P.z8)("正在复制");try{const e=await W.Z.post("/api/projects/temporaryproject",{pid:a.params.pid});if(200!==e.status||!e.data||200!==e.data.code)throw e;(0,P.z8)("复制成功 正在前往临时项目页"),t.push(`/projects/temp/${e.data.tpid}`)}catch(e){(0,P.z8)("复制失败"),console.log("复制项目失败: ",e)}}return(0,n.wF)((()=>{console.clear=()=>{}})),(0,n.bv)((async()=>{try{const e=await W.Z.get(`/api/projects/${a.params.pid}/`);if(200!==e.status||!e.data)throw e;null!==s.state.userinfo&&e.data.uid===s.state.userinfo.uid&&(i.value=!0),m.value=e.data}catch(e){console.log("获取项目信息失败: ",e)}try{const e=await W.Z.get("/api/user/",{params:{uid:m.value.uid}});if(200!==e.status||!e.data)throw e;f.value=e.data}catch(e){console.log("获取项目所有者信息失败: ",e)}try{const e=await W.Z.get("/api/stars/",{params:{pid:a.params.pid}});if(200!==e.status||!e.data||200!==e.data.code)throw e;v.value=e.data.star}catch(e){console.log("获取收藏信息失败: ",e)}await Z()})),(e,a)=>{const t=k.gi,o=g.vs,c=w.dq,v=z.EZ,W=ie.R,j=r.G4,C=r.b2;return(0,n.wg)(),(0,n.iD)("div",Fe,[(0,n.Wm)(j,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n.Wm)(be)])),_:1})),(0,n.Wm)(c,{class:"infoBox"},{default:(0,n.w5)((()=>[(0,n._)("div",Te,[(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(m.value?m.value.projectname:"Title"),1)])),_:1})]),(0,n._)("div",Oe,[(0,n.Wm)(o,{size:50,src:`/assets/avatars/${f.value?f.value.avatarurl:"default.jpg"}`,onClick:$},null,8,["src"]),(0,n._)("div",null,[(0,n.Wm)(t,{class:"username"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(f.value?f.value.username:"username"),1)])),_:1}),(0,n.Wm)(t,{class:"description"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(m.value?m.value.description:"Title"),1)])),_:1})])])])),_:1}),null!==(0,p.SU)(s).state.userinfo?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"actionBox"},{default:(0,n.w5)((()=>[(0,n._)("div",{onClick:D},[(0,n._)("i",{class:(0,d.C_)(["iconfont",U.value])},null,2),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("收藏")])),_:1})]),(0,n._)("div",{onClick:S},[Re,(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("复制此项目为临时项目")])),_:1})]),i.value?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:b},[Ee,(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("修改此项目")])),_:1})])):(0,n.kq)("",!0),i.value?((0,n.wg)(),(0,n.iD)("div",{key:1,onClick:a[0]||(a[0]=e=>(0,p.SU)(We).emit("saveChanges"))},[Ne,(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("保存修改")])),_:1})])):(0,n.kq)("",!0)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(c,{class:"commentBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(j,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("评论")])),_:1})])),_:1}),(0,n.Wm)(c,{class:"newCommentBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),type:"textarea",placeholder:"来几句... (Shift+Enter 发布)",onKeyup:(0,l.D2)((0,l.iM)(q,["shift"]),["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),(0,n.Wm)(c,{class:"commentList"},{default:(0,n.w5)((()=>[(0,n._)("ul",null,[0===_.value.length?((0,n.wg)(),(0,n.iD)("li",Ae,[(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("本项目还没有评论哟~")])),_:1})])):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(_.value,(e=>((0,n.wg)(),(0,n.j4)(He,{key:e.cid,cid:e.cid,uid:e.uid,comment:e.comment,date:e.date,like:e.like,youlike:e.youlike,getComment:Z},null,8,["cid","uid","comment","date","like","youlike"])))),128))]),0!==_.value.length?((0,n.wg)(),(0,n.j4)(W,{key:0,background:"",layout:"prev, pager, next","page-size":y.value,total:h.value},null,8,["page-size","total"])):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(E)])),_:1})])}}});const Me=(0,b.Z)(Le,[["__scopeId","data-v-4bbed92a"]]);var Ke=Me,Ge=t(3616),Ye=(t(2064),t(7113),t(5006));t(7500);const Je={class:"deleteProjectDialogBox"},Qe={class:"deleteProjectDialog"};var Xe=(0,n.aZ)({name:"deleteProjectDialog",__name:"deleteProjectDialog",props:{cancel:{type:Function,required:!0},next:{type:Function,required:!0}},setup(e){const a=e;return(e,t)=>{const l=k.gi,o=w.dq,s=Z.mi;return(0,n.wg)(),(0,n.iD)("div",Je,[(0,n._)("div",Qe,[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("真的要删除此项目吗?")])),_:1}),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("请确认")])),_:1})])),_:1}),(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"cancel",onClick:a.cancel},{default:(0,n.w5)((()=>[(0,n.Uk)("算了")])),_:1},8,["onClick"]),(0,n.Wm)(s,{type:"primary",onClick:a.next},{default:(0,n.w5)((()=>[(0,n.Uk)("删!")])),_:1},8,["onClick"])])),_:1})])])}}});const ea=(0,b.Z)(Xe,[["__scopeId","data-v-8a1d3c7e"]]);var aa=ea;async function ta(){try{const e=await W.Z.get("/api/user/");return 200!=e.status||e.data.code?(console.log(`请求成功 但信息不可用: ${JSON.stringify(e.data)}`),null):e.data}catch(e){return console.log(`请求失败: ${e}`),null}}async function la(e){const a=await ta();return null==a&&e.go(-1),a}function na(e,a,t){null!==e.state.userinfo&&e.state.userinfo.uid===t||a.go(-1)}const oa={class:"projectSettingsPage"},sa=["value"],ua=["src"];var ia=(0,n.aZ)({name:"projectSettingsPage",__name:"projectSettingsPage",setup(e){const a=(0,c.yj)(),t=(0,c.tv)(),s=(0,o.oR)(),u=(0,p.qj)({projectName:"",projectDescription:""}),i=(0,p.iH)(null),d=(0,p.iH)(null),m=(0,p.iH)({show:!1,cancel:()=>{m.value.show=!1},next:async()=>{(0,P.z8)("正在删除");try{const e=await W.Z.delete("/api/user/projects",{data:{pid:a.params.pid}});if(200!==e.status||!e.data||200!==e.data.code)throw e;m.value.show=!1,t.go(-2)}catch(e){(0,P.z8)("删除失败 请稍后再试"),console.log("删除项目时出错: ",e)}}});function f(){(0,P.z8)("正在提交数据"),d.value?.$el.submit()}async function v(){await w(),(0,P.z8)("数据更新完成")}async function w(){(0,P.z8)("正在获取项目信息 请等待...");try{const e=await W.Z.get(`/api/projects/${a.params.pid}/`);if(200!==e.status||!e.data)throw e;i.value=e.data,u.projectName=i.value?.projectname??"",u.projectDescription=i.value?.description??"",(0,P.z8)("项目信息获取完成 可以继续了")}catch(e){(0,P.z8)("获取项目信息时出错"),console.log("请求项目数据时出错: ",e)}}return async function(){await la(t);const e=await Ve(t,a.params.pid);i.value=e,na(s,t,i.value.uid)}(),(0,n.bv)((async()=>{u.projectName=i.value?.projectname??"",u.projectDescription=i.value?.description??""})),(e,a)=>{const t=Ye.LW,o=Ge.nH,s=z.EZ,c=Z.mi,p=Ge.ly,w=r.b2,g=r.G4;return(0,n.wg)(),(0,n.iD)("div",oa,[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n._)("iframe",{src:"",frameborder:"0",name:"frame",style:{width:"0",height:"0",display:"none"},onLoad:v},null,32),(0,n.Wm)(p,{model:u,"label-width":"120px",ref_key:"formRef",ref:d,method:"post",action:"/api/user/projects",enctype:"multipart/form-data",target:"frame"},{default:(0,n.w5)((()=>[(0,n._)("input",{name:"pid",value:i.value?.pid,type:"hidden"},null,8,sa),(0,n.Wm)(o,{label:"效果图"},{default:(0,n.w5)((()=>[(0,n.Wm)(t,{class:"effect-uploader","show-file-list":!0,"auto-upload":!1,limit:1,accept:".jpg,.png",name:"effectimg"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:`/assets/effects/${i.value?.effectimg??"default.jpg"}`,class:"effect"},null,8,ua)])),_:1})])),_:1}),(0,n.Wm)(o,{label:"项目名"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{modelValue:u.projectName,"onUpdate:modelValue":a[0]||(a[0]=e=>u.projectName=e),name:"projectname"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(o,{label:"项目介绍"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{modelValue:u.projectDescription,"onUpdate:modelValue":a[1]||(a[1]=e=>u.projectDescription=e),name:"description"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(o,{class:"dangerActionFormItem"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{type:"danger",onClick:a[2]||(a[2]=e=>m.value.show=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)(" 删除此项目 ")])),_:1})])),_:1}),(0,n.Wm)(o,{class:"submitFormItem"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{type:"primary",onClick:f},{default:(0,n.w5)((()=>[(0,n.Uk)("OK!")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),(0,n.Wm)(E)])),_:1}),(0,n.Wm)(l.uT,null,{default:(0,n.w5)((()=>[m.value.show?((0,n.wg)(),(0,n.j4)(aa,{key:0,cancel:m.value.cancel,next:m.value.next},null,8,["cancel","next"])):(0,n.kq)("",!0)])),_:1})])}}});const ca=(0,b.Z)(ia,[["__scopeId","data-v-48757204"]]);var ra=ca,da=(0,n.aZ)({__name:"tempRepl",setup(e){class a extends he.rl{addFile(e){if("string"===typeof e){const a=e.replace(/^src\//,"");(0,P.z8)("正在同步信息"),r(a)}super.addFile(e)}deleteFile(e){const a=e.replace(/^src\//,"");confirm(`你确定要删除 ${a} 吗?`)&&(this.state.activeFile.filename===e&&(this.state.activeFile=this.state.files[this.state.mainFile]),delete this.state.files[e],(0,P.z8)("正在同步信息"),d(a))}}const t=new a({defaultVueRuntimeURL:"/assets/serverStatics/scripts/runtime-dom.esm-browser-3.3.11.js",defaultVueRuntimeProdURL:"/assets/serverStatics/scripts/runtime-dom.esm-browser.prod-3.3.11.js",defaultVueServerRendererURL:"/assets/serverStatics/scripts/server-renderer.esm-browser-3.3.11.js"}),l=(0,c.yj)(),o=(0,p.iH)({}),s=(0,p.iH)(null);async function u(){try{const e=await W.Z.get(`/api/projects/${l.params.tpid}/code/`,{params:{temp:!0}});if(200!==e.status||!e.data)throw e;const a=e.data,t={};for(const n in a){const e=await W.Z.get(`/api/projects/${l.params.tpid}/code/${n}`,{params:{temp:!0}});if(200!==e.status||!e.data||e.data.code)throw e;t[n]={...a[n],cid:n,code:e.data.content}}o.value=t}catch(e){(0,P.z8)("获取代码信息失败"),console.log("获取项目代码信息失败",e)}}function i(){for(const e in t.state.files)"src/App.vue"!==e&&delete t.state.files[e];for(const e in o.value){const a=o.value[e],l=`${a.name}.${a.type}`;if("App.vue"===l){t.state.files["src/App.vue"].code=a.code;continue}const n=new he.$B(`src/${a.name}.${a.type}`,a.code);t.addFile(n)}}function r(e){let[a,t]=e.split(".");t=t.toLowerCase(),"vue"!==t&&"js"!==t||(W.Z.post(`/api/projects/${l.params.tpid}/code/`,{name:a,type:t,temp:!0}).then((e=>{if(200!==e.status||!e.data||200!==e.data.code)throw e})).catch((e=>{(0,P.z8)("在服务端新建文件失败"),console.log("在服务器端新建文件失败了: ",e)})),null!==s.value&&clearTimeout(s.value),s.value=setTimeout((()=>{u().then((()=>{(0,P.z8)("同步完成")})).catch((e=>{(0,P.z8)("代码刷新失败"),console.log("刷新代码失败了: ",e)}))}),1e3))}function d(e){const a=e.split(".")[0];let t="";for(const l in o.value)if(o.value[l].name===a){t=l;break}if(""===t)return console.log("删除代码时未找到指定名字的组件的 id: ",e),!0;W.Z.delete(`/api/projects/${l.params.tpid}/code/${t}`,{data:{temp:!0}}).then((e=>{if(200!==e.status||!e.data||200!==e.data.code)throw e})).catch((e=>{(0,P.z8)("在服务端删除代码时失败了"),console.log("在服务器端删除文件失败了: ",e)})),null!==s.value&&clearTimeout(s.value),s.value=setTimeout((()=>{u().then((()=>{(0,P.z8)("同步完成")})).catch((e=>{(0,P.z8)("代码刷新失败"),console.log("刷新代码失败了: ",e)}))}),1e3)}async function m(){(0,P.z8)("正在保存代码");for(const e in o.value){const{name:a,type:n}=o.value[e],s=t.state.files[`src/${a}.${n}`].code,u=await W.Z.patch(`/api/projects/${l.params.tpid}/code/${e}`,{content:s,temp:!0});200===u.status&&u.data&&200===u.data.code||((0,P.z8)("保存代码时出错"),console.log("保存代码时出错了: ",u))}(0,P.z8)("代码保存完成")}return(0,n.bv)((async()=>{(0,P.z8)("正在获取最新代码 请等待..."),await u(),i(),setTimeout((()=>{t.setActive("src/App.vue"),(0,P.z8)("代码获取完成 现在可以继续了")}),1e3);try{We.off("saveChanges")}catch{}We.on("saveChanges",m)})),(e,a)=>{const l=w.dq;return(0,n.wg)(),(0,n.j4)(l,{class:"replBox"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,p.SU)(he.wE),{editor:(0,p.SU)(ye.Z),showImportMap:!1,showTsConfig:!1,store:(0,p.SU)(t)},null,8,["editor","store"])])),_:1})}}});const pa=(0,b.Z)(da,[["__scopeId","data-v-12a13bf6"]]);var ma=pa;async function fa(e,a){const t=await W.Z.get("/api/projects/temporaryproject",{params:{tpid:a}});return 200===t.status&&t.data||e.go(-1),t.data}const va=e=>((0,n.dD)("data-v-078c314f"),e=e(),(0,n.Cn)(),e),wa={class:"projectPage"},ga={class:"title"},_a={class:"info"},ha=va((()=>(0,n._)("i",{class:"iconfont icon-modify"},null,-1))),ya=va((()=>(0,n._)("i",{class:"iconfont icon-baocun"},null,-1)));var ka=(0,n.aZ)({name:"projectPage",__name:"tempProjectPage",setup(e){const a=(0,c.yj)(),t=(0,c.tv)(),l=(0,o.oR)(),s=(0,p.iH)(null),u=(0,p.iH)(null);function i(){t.push({path:`/projects/temp/${a.params.tpid}/settings`})}function m(){t.push(`/user/${u.value?.uid}`)}return async function(){const e=await la(t);u.value=e;const n=await fa(t,a.params.tpid);s.value=n,na(l,t,`${s.value.uid}`)}(),(0,n.wF)((()=>{console.clear=()=>{}})),(0,n.bv)((async()=>{try{const e=await W.Z.get("/api/projects/temporaryproject",{params:{tpid:a.params.tpid}});if(200!==e.status||!e.data)throw e;s.value=e.data;const t=await W.Z.get("/api/user/",{params:{uid:s.value.uid}});if(200!==t.status||!t.data)throw t;u.value=t.data}catch(e){console.log("获取项目信息失败: ",e)}})),(e,a)=>{const t=k.gi,l=g.vs,o=w.dq,c=r.b2,f=r.G4;return(0,n.wg)(),(0,n.iD)("div",wa,[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ma)])),_:1})),(0,n.Wm)(o,{class:"infoBox"},{default:(0,n.w5)((()=>[(0,n._)("div",ga,[(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(s.value?s.value.name:"Title"),1)])),_:1})]),(0,n._)("div",_a,[(0,n.Wm)(l,{size:50,src:`/assets/avatars/${u.value?u.value.avatarurl:"default.jpg"}`,onClick:m},null,8,["src"]),(0,n._)("div",null,[(0,n.Wm)(t,{class:"username"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(u.value?u.value.username:"username"),1)])),_:1}),(0,n.Wm)(t,{class:"description"},{default:(0,n.w5)((()=>[(0,n.Uk)("临时项目")])),_:1})])])])),_:1}),(0,n.Wm)(o,{class:"actionBox"},{default:(0,n.w5)((()=>[(0,n._)("div",{onClick:i},[ha,(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("修改此项目")])),_:1})]),(0,n._)("div",{onClick:a[0]||(a[0]=e=>(0,p.SU)(We).emit("saveChanges"))},[ya,(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("保存修改")])),_:1})])])),_:1})])),_:1}),(0,n.Wm)(E)])),_:1})])}}});const Wa=(0,b.Z)(ka,[["__scopeId","data-v-078c314f"]]);var ja=Wa;const Ua={class:"publishProjectDialogBox"},ba={class:"publishProjectDialog"};var Ca=(0,n.aZ)({name:"publishProjectDialog",__name:"publishProjectDialog",props:{cancel:{type:Function,required:!0},next:{type:Function,required:!0}},setup(e){const a=e;return(e,t)=>{const l=k.gi,o=w.dq,s=Z.mi;return(0,n.wg)(),(0,n.iD)("div",Ua,[(0,n._)("div",ba,[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("真的要发布此项目吗?")])),_:1}),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("发布后项目将变成公共项目, 所有人都可以浏览. 同时原始临时项目将被删除")])),_:1})])),_:1}),(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"cancel",onClick:a.cancel},{default:(0,n.w5)((()=>[(0,n.Uk)("算了")])),_:1},8,["onClick"]),(0,n.Wm)(s,{type:"primary",onClick:a.next},{default:(0,n.w5)((()=>[(0,n.Uk)("发布!")])),_:1},8,["onClick"])])),_:1})])])}}});const xa=(0,b.Z)(Ca,[["__scopeId","data-v-db334ff4"]]);var Da=xa;const Za={class:"projectSettingsPage"};var za=(0,n.aZ)({name:"projectSettingsPage",__name:"tempProjectSettingsPage",setup(e){const a=(0,c.yj)(),t=(0,c.tv)(),s=(0,o.oR)(),u=(0,p.iH)(null),i=(0,p.iH)({show:!1,cancel:()=>{i.value.show=!1},next:async()=>{(0,P.z8)("正在删除项目");try{const e=await W.Z.delete("/api/projects/temporaryproject",{data:{tpid:a.params.tpid}});if(200!==e.status||!e.data||200!==e.data.code)throw e;i.value.show=!1,t.go(-2)}catch(e){console.log("删除项目时出错: ",e)}}}),d=(0,p.iH)({show:!1,cancel:()=>{d.value.show=!1},next:async()=>{(0,P.z8)("正在发布项目");try{const e=await W.Z.put("/api/projects/temporaryproject",{tpid:a.params.tpid});if(200!==e.status||!e.data||200!==e.data.code)throw e;d.value.show=!1,(0,P.z8)("发布成功 正跳转到项目页"),t.replace(`/projects/${e.data.pid}`)}catch(e){console.log("删除项目时出错: ",e)}}});async function m(){console.log("信息修改完成")}return async function(){await la(t);const e=await fa(t,a.params.tpid);na(s,t,`${e.uid}`)}(),(0,n.bv)((()=>{})),(e,a)=>{const t=k.gi,o=Ge.nH,s=Z.mi,c=Ge.ly,p=r.b2,f=r.G4;return(0,n.wg)(),(0,n.iD)("div",Za,[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n._)("iframe",{src:"",frameborder:"0",name:"frame",style:{width:"0",height:"0",display:"none"},onLoad:m},null,32),(0,n.Wm)(c,{"label-width":"120px",ref_key:"formRef",ref:u},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{class:"descFormItem"},{default:(0,n.w5)((()=>[(0,n.Wm)(t,{class:"title"},{default:(0,n.w5)((()=>[(0,n.Uk)("这是一个临时项目!")])),_:1}),(0,n.Wm)(t,{class:"description"},{default:(0,n.w5)((()=>[(0,n.Uk)("你只有发布项目后才能修改项目的其他信息 例如设置项目名或设置效果图")])),_:1})])),_:1}),(0,n.Wm)(o,{class:"dangerActionFormItem"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{type:"danger",onClick:a[0]||(a[0]=e=>d.value.show=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)(" 发布此项目 ")])),_:1}),(0,n.Wm)(s,{type:"danger",onClick:a[1]||(a[1]=e=>i.value.show=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)(" 删除此项目 ")])),_:1})])),_:1})])),_:1},512)])),_:1}),(0,n.Wm)(E)])),_:1}),(0,n.Wm)(l.uT,null,{default:(0,n.w5)((()=>[i.value.show?((0,n.wg)(),(0,n.j4)(aa,{key:0,cancel:i.value.cancel,next:i.value.next},null,8,["cancel","next"])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(l.uT,null,{default:(0,n.w5)((()=>[d.value.show?((0,n.wg)(),(0,n.j4)(Da,{key:0,cancel:d.value.cancel,next:d.value.next},null,8,["cancel","next"])):(0,n.kq)("",!0)])),_:1})])}}});const Pa=(0,b.Z)(za,[["__scopeId","data-v-4503069e"]]);var qa=Pa,$a=t(1176);t(33);const Sa={key:0,class:"confirmPasswordDialogBox"},Ia={class:"confirmPasswordDialog"};var Ha=(0,n.aZ)({name:"confirmPasswordDialog",__name:"confirmPasswordDialog",props:{showDialog:{type:Boolean,default:!1},cancel:{},submitAction:{}},setup(e){const a=e,t=(0,p.iH)(""),l=(0,p.iH)(!1),o=(0,n.Fl)((()=>l.value?"两次输入的密码不一致 请重试":""));function s(){const e=a.submitAction(t.value);"wrong password"!==e?a.cancel():l.value=!0}return(e,l)=>{const u=k.gi,i=z.EZ,c=w.dq,r=Z.mi;return a.showDialog?((0,n.wg)(),(0,n.iD)("div",Sa,[(0,n._)("div",Ia,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"title"},{default:(0,n.w5)((()=>[(0,n.Uk)("你想要修改密码!")])),_:1}),(0,n.Wm)(u,{class:"description"},{default:(0,n.w5)((()=>[(0,n.Uk)("请重复一遍新密码 以确保你还记设置的密码是正确的")])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(o.value),1)])),_:1}),(0,n.Wm)(i,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),type:"password",placeholder:"请重复密码"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"cancel",onClick:a.cancel},{default:(0,n.w5)((()=>[(0,n.Uk)("取消")])),_:1},8,["onClick"]),(0,n.Wm)(r,{type:"primary",onClick:s},{default:(0,n.w5)((()=>[(0,n.Uk)("OK!")])),_:1})])),_:1})])])):(0,n.kq)("",!0)}}});const Va=(0,b.Z)(Ha,[["__scopeId","data-v-6102c41e"]]);var Ba=Va;const Fa={class:"userSettings"};var Ta=(0,n.aZ)({name:"userSettings",__name:"userSettings",setup(e){const a=(0,o.oR)(),t=(0,p.iH)(!1),s=(0,p.iH)(a.state.userinfo),u=(0,p.qj)({username:s.value.username,password:"",email:s.value.email,description:s.value.description,avatar:s.value.avatarurl}),i=(0,p.iH)(null);function c(){a.dispatch("fetchUserInfo"),We.emit("userPageUpdateInfo"),(0,P.z8)("内容刷新完成"),console.log("iframe reloaded!")}function r(){t.value=!1}function d(){if((0,P.z8)("正在提交信息"),null===i.value)return(0,P.z8)("除了一点错误 请稍后再试"),void console.log("意外地没获取到 form 组件实例对象");try{i.value.$el.submit()}catch(e){(0,P.z8)("信息提交失败了 请稍后再试"),console.log("信息修改出错",e)}}function m(e){if(e!==u.password)return"wrong password";d(),t.value=!1}function f(){""===u.password?d():t.value=!0}return(e,a)=>{const o=k.gi,s=Ye.LW,d=Ge.nH,p=z.EZ,v=Z.mi,w=Ge.ly;return(0,n.wg)(),(0,n.iD)("div",Fa,[(0,n._)("iframe",{src:"",frameborder:"0",name:"frame",style:{width:"0",height:"0",display:"none"},onLoad:c},null,32),(0,n.Wm)(w,{model:u,"label-width":"120px",ref_key:"formRef",ref:i,enctype:"multipart/form-data",method:"post",action:"/api/user",target:"frame"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"头像"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"avatar-uploader",accept:".jpg,.png",name:"avatarimg","show-file-list":!0,"auto-upload":!1,limit:1},{default:(0,n.w5)((()=>[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("点击选择")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(d,{label:"用户名"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"username",modelValue:u.username,"onUpdate:modelValue":a[0]||(a[0]=e=>u.username=e)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(d,{label:"密码"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"password",modelValue:u.password,"onUpdate:modelValue":a[1]||(a[1]=e=>u.password=e)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(d,{label:"自我介绍"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"description",modelValue:u.description,"onUpdate:modelValue":a[2]||(a[2]=e=>u.description=e)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(d,{class:"submitFormItem"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{type:"primary",onClick:f},{default:(0,n.w5)((()=>[(0,n.Uk)(" OK! ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,n.Wm)(l.uT,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Ba,{showDialog:t.value,cancel:r,submitAction:m},null,8,["showDialog"])])),_:1})])}}});const Oa=(0,b.Z)(Ta,[["__scopeId","data-v-7d82c144"]]);var Ra=Oa;const Ea={class:"userProjects"},Na={key:0,class:"emptyStarTip"};var Aa=(0,n.aZ)({name:"userProjects",__name:"userStars",setup(e){(0,c.yj)(),(0,c.tv)();const a=(0,p.iH)([]);async function t(){try{const e=await W.Z.get("/api/user/stars");if(200!==e.status||!e.data)throw e;a.value=e.data}catch(e){console.log("个人收藏数据获取失败了: ",e)}}return(0,n.bv)((async()=>{await t()})),(e,t)=>{const l=k.gi;return(0,n.wg)(),(0,n.iD)("div",Ea,[0===a.value.length?((0,n.wg)(),(0,n.iD)("div",Na,[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("用户还没有收藏哦!")])),_:1})])):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(a.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"itemBox",key:e.pid},[(0,n.Wm)(de,{pid:+e.pid,projectname:e.projectname,description:e.description,effectimg:e.effectimg},null,8,["pid","projectname","description","effectimg"])])))),128))])}}});const La=(0,b.Z)(Aa,[["__scopeId","data-v-e71386c2"]]);var Ma=La;const Ka={class:"userProjects"},Ga={class:"itemBox"};var Ya=(0,n.aZ)({name:"userProjects",__name:"userTempProjects",setup(e){const a=(0,c.tv)(),t=(0,p.iH)([]);async function l(){try{const e=await W.Z.get("/api/projects/temporaryproject");if(200!==e.status||!e.data||e.data.code&&200!==e.data.code)throw e;t.value=e.data}catch(e){console.log("个人临时项目数据获取失败了: ",e)}}async function o(){try{const e=await W.Z.post("/api/projects/temporaryproject");if(200!==e.status||!e.data||200!==e.data.code)throw e;a.push({path:`/projects/temp/${e.data.tpid}`})}catch(e){console.log("新项目创建失败: ",e)}}return(0,n.bv)((async()=>{await l()})),(e,a)=>{const l=k.gi,s=D.Kf;return(0,n.wg)(),(0,n.iD)("div",Ka,[(0,n._)("div",Ga,[(0,n.Wm)(s,{class:"newProjectCard","body-style":{width:"100%",height:"100%",padding:"0px"},shadow:"never"},{default:(0,n.w5)((()=>[(0,n._)("div",{class:"newProject",onClick:o},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("+")])),_:1}),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("新建项目")])),_:1})])])),_:1})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"itemBox",key:e.tpid},[(0,n.Wm)(de,{pid:+e.tpid,projectname:e.name,description:"临时项目",effectimg:"default.jpg",temp:!0},null,8,["pid","projectname","effectimg"])])))),128))])}}});const Ja=(0,b.Z)(Ya,[["__scopeId","data-v-45427fd9"]]);var Qa=Ja,Xa=(t(6226),t(691));const et={class:"userProjects"},at={class:"newProject"};var tt=(0,n.aZ)({name:"userProjects",__name:"userProjects",props:{uid:{type:String,required:!0}},setup(e){const a=e,t=(0,c.tv)(),l=(0,p.iH)([]);async function o(){const e=await W.Z.get("/api/user/projects",{params:{uid:a.uid}});200===e.status&&e.data?l.value=e.data:console.log("个人项目数据获取失败了: ",e)}async function s(){try{const e=await W.Z.patch("/api/user/projects",{projectname:`新项目: ${(0,Xa.x0)()}`});if(200!==e.status||!e.data||200!==e.data.code)throw e;t.push({path:`/projects/${e.data.pid}`})}catch(e){console.log("新项目创建失败: ",e)}}return(0,n.bv)((async()=>{await o()})),(e,a)=>{const t=k.gi,o=D.Kf;return(0,n.wg)(),(0,n.iD)("div",et,[(0,n._)("div",{class:"itemBox",onClick:s},[(0,n.Wm)(o,{class:"newProjectCard","body-style":{width:"100%",height:"100%",padding:"0px"},shadow:"never"},{default:(0,n.w5)((()=>[(0,n._)("div",at,[(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("+")])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("新建项目")])),_:1})])])),_:1})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"itemBox",key:e.pid},[(0,n.Wm)(de,{pid:+e.pid,projectname:e.projectname,description:e.description,effectimg:e.effectimg},null,8,["pid","projectname","description","effectimg"])])))),128))])}}});const lt=(0,b.Z)(tt,[["__scopeId","data-v-127a7b1f"]]);var nt=lt;const ot=e=>((0,n.dD)("data-v-64ec9f58"),e=e(),(0,n.Cn)(),e),st={class:"userPage"},ut=ot((()=>(0,n._)("div",{class:"mask"},null,-1)));function it(e,a,t,l,o,s){const u=T,i=g.vs,c=k.gi,p=w.dq,m=nt,f=$a.p8,v=Qa,h=Ma,y=Ra,W=$a.Ub,j=_.Dv,U=r.b2,b=E,C=r.G4;return(0,n.wg)(),(0,n.iD)("div",st,[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u),(0,n.Wm)(U,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"userInfoBox"},{default:(0,n.w5)((()=>[ut,(0,n.Wm)(i,{size:120,src:`/assets/avatars/${l.userInfo?.avatarurl}`},null,8,["src"]),(0,n.Wm)(c,{class:"username"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(l.userInfo?.username),1)])),_:1}),(0,n.Wm)(c,{class:"description"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(l.userInfo?.description),1)])),_:1}),(0,n.Wm)(c,{class:"email"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(l.userInfo?.email),1)])),_:1})])),_:1}),(0,n.Wm)(p,{class:"userContentBox"},{default:(0,n.w5)((()=>[(0,n.Wm)(j,{span:24},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"contentTab",modelValue:l.currentTabName,"onUpdate:modelValue":a[0]||(a[0]=e=>l.currentTabName=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{label:"项目",name:"projects"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{uid:l.userInfo.uid},null,8,["uid"])])),_:1}),l.isOwn?((0,n.wg)(),(0,n.j4)(f,{key:0,label:"临时项目",name:"tempProjects"},{default:(0,n.w5)((()=>[(0,n.Wm)(v)])),_:1})):(0,n.kq)("",!0),l.isOwn?((0,n.wg)(),(0,n.j4)(f,{key:1,label:"收藏",name:"stars"},{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1})):(0,n.kq)("",!0),l.isOwn?((0,n.wg)(),(0,n.j4)(f,{key:2,label:"设置",name:"settings"},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y)])),_:1}))])),_:1})):(0,n.kq)("",!0)])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(b)])),_:1})])}var ct={name:"userPage",async setup(){const e=(0,c.yj)(),a=(0,p.iH)(null),t=(0,p.iH)(o()),l=(0,p.iH)(!1);function o(){return"projects"!==e.query.tab&&"tempProjects"!==e.query.tab&&"stars"!==e.query.tab&&"settings"!==e.query.tab?"projects":e.query.tab}async function s(){try{const t=await W.Z.get("/api/user/",{params:{uid:e.params.uid}});if(200!=t.status||!t.data||!t.data.uid)throw t;const n=await W.Z.get("/api/user/");200===n.status&&n.data&&n.data.uid&&n.data.uid===t.data.uid&&(l.value=!0),a.value=t.data}catch(t){console.log("请求用户信息失败了",t)}}return(0,n.YP)(e,(()=>{t.value=o()})),await s(),We.on("userPageUpdateInfo",(async()=>{await s()})),{currentTabName:t,userInfo:a,isOwn:l}},components:{PageHeader:T,PageFooter:E,UserProjects:nt,UserTempProjects:Qa,UserStars:Ma,UserSettings:Ra}};const rt=(0,b.Z)(ct,[["render",it],["__scopeId","data-v-64ec9f58"]]);var dt=rt;const pt=e=>((0,n.dD)("data-v-1f9ab9dc"),e=e(),(0,n.Cn)(),e),mt={class:"aboutPage"},ft=pt((()=>(0,n._)("div",null,[(0,n._)("video",{src:"/assets/serverStatics/descVideo/desc.mp4",type:"video/mp4",controls:"",preload:"auto"})],-1)));var vt=(0,n.aZ)({name:"aboutPage",__name:"aboutPage",setup(e){return(e,a)=>{const t=k.gi,l=y.E2,o=w.dq,s=r.b2,u=r.G4;return(0,n.wg)(),(0,n.iD)("div",mt,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(t,{class:"title"},{default:(0,n.w5)((()=>[(0,n.Uk)("感谢你能访问本网站!")])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("        这个网站是我为了找工作所做的一个 demo 网站。如果你能看到这里，说明你还对本项目还挺感兴趣的。 谢谢你，不管你觉得我做的这个项目是否简陋，我是否能胜任你们的工作，我都很感谢你能访问我的网站。 ")])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("        说实话，这个网站其实算不上是一个较大型的项目，虽然本网站写的口号挺响亮，但实际整个网站的页面只有那么几个。 本网站的前端和后端开发只用了 1 个月的时间，虽然这个项目的亮点确实不多 （我认为本项目唯数不多的优点就是动画还不错，而后就是很简洁，至少我自己是有想使用这个网站的欲望的！） 但好在本项目是一个全栈项目（虽然前后端都很简单就是了），而且这个项目全程是我自己想自己做的！没有参考别人！（功能设计上参考了 CodePen 这个网站，在此表示感谢。） ")])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("        说一下这个项目使用的技术栈吧！前端用的就是 Vue 3 全家桶了（Vue3、Vuex、VueRouter、ElementPlus） 后端用的是 Python + FastAPI，使用了 Docker 做容器化部署，同时使用 Redis 做了缓存，数据库用的是 MySQL。 我用了一个月多一点的时间来完成这个项目，其实本来还想做个后台页面的，但奈何时间不够了，我该找工作了，于是就作罢了。 后端接口的开发大概用了 10 天的时间，使用 RESTFul 风格设计的后端 API，剩余的时间都用来开发前台了。 ")])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("        本项目使用 1 个月就完成了，时间确实是很仓促了，但 “要做个项目” 这件事并不是只准备了一个月的时间。 在这个项目之前我其实还做了另一个项目，是一个 “在线的可视化的快速的页面布局工具”，只可惜它烂尾了。 我发现我实际做出来的东西和我想要的东西不一样，并且即使我把它做出来了，我也不喜欢使用它。 那对于一个工具来说，如果一个创造它的人他都不喜欢使用这个工具的话，那这个工具的意义在哪里呢？故而我停止了那个项目的开发。 而此时那个项目已经花掉我 2 个月的时间了。如果你想看看那个项目，可见链接："),(0,n.Wm)(l,{href:"http://116.62.228.72/#/"},{default:(0,n.w5)((()=>[(0,n.Uk)("简单设计")])),_:1})])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("        最后，感谢你能来到这里！谢谢！ 下面还有整个项目的演示视频，包含了整个项目的演示视频（包括你可能没注意到的细节部分）你可以去看看它。它不长，不会花费很多时间。 ")])),_:1}),(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("        本项目在 github 上开源，链接："),(0,n.Wm)(l,{href:"https://github.com/Cinichengbuweikong/CodeBox"},{default:(0,n.w5)((()=>[(0,n.Uk)("github")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(t,{class:"title"},{default:(0,n.w5)((()=>[(0,n.Uk)("项目演示")])),_:1}),ft])),_:1})])),_:1}),(0,n.Wm)(E)])),_:1})])}}});const wt=(0,b.Z)(vt,[["__scopeId","data-v-1f9ab9dc"]]);var gt=wt;const _t=[{path:"/",name:"indexPage",component:ue,children:[]},{path:"/search",name:"searchPage",component:_e,children:[]},{path:"/about",name:"aboutPage",component:gt,children:[]},{path:"/user/:uid",name:"userPage",component:dt,children:[]},{path:"/projects/:pid",name:"projectsPage",component:Ke,children:[]},{path:"/projects/:pid/settings",name:"projectSettingsPage",component:ra,children:[]},{path:"/projects/temp/:tpid",name:"tempProjectPage",component:ja,children:[]},{path:"/projects/temp/:tpid/settings",name:"tempProjectSettingPage",component:qa,children:[]}];var ht=(0,c.p7)({history:(0,c.PO)(),routes:_t});const yt={userinfo:null,showWelcomeDialog:!0},kt={async fetchUserInfo(e){try{const a=await ta();null!==a&&e.commit("UPDATE_USER_INFO",a)}catch(a){console.log("获取用户信息时出错:",a)}}},Wt={UPDATE_USER_INFO(e,a){e.userinfo=a},REMOVE_USER_INFO(e){e.userinfo=null},HIDE_WELCOME_DIALOG(e){e.showWelcomeDialog=!1}},jt={};var Ut=(0,o.MT)({state:yt,actions:kt,mutations:Wt,getters:jt});const bt=(0,l.ri)(i);bt.use(ht),bt.use(Ut),bt.mount("#app")},5129:function(e,a,t){"use strict";e.exports=t.p+"img/largeicon.71e979e8.png"}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var o=a[l]={exports:{}};return e[l].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,o){if(!l){var s=1/0;for(r=0;r<e.length;r++){l=e[r][0],n=e[r][1],o=e[r][2];for(var u=!0,i=0;i<l.length;i++)(!1&o||s>=o)&&Object.keys(t.O).every((function(e){return t.O[e](l[i])}))?l.splice(i--,1):(u=!1,o<s&&(s=o));if(u){e.splice(r--,1);var c=n();void 0!==c&&(a=c)}}return a}o=o||0;for(var r=e.length;r>0&&e[r-1][2]>o;r--)e[r]=e[r-1];e[r]=[l,n,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,o,s=l[0],u=l[1],i=l[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(n in u)t.o(u,n)&&(t.m[n]=u[n]);if(i)var r=i(t)}for(a&&a(l);c<s.length;c++)o=s[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(r)},l=self["webpackChunkcodebox_front"]=self["webpackChunkcodebox_front"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(7114)}));l=t.O(l)})();
//# sourceMappingURL=app.12bb947d.js.map